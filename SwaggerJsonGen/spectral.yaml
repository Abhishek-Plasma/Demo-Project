extends:
  - spectral:oas

rules:
  operation-summary:
    description: Every operation MUST have a summary
    given: $.paths[*][*]
    then:
      field: summary
      function: truthy
    severity: error

  operation-description:
    description: Operation description is recommended
    given: $.paths[*][*]
    then:
      field: description
      function: truthy
    severity: warn

  info-title:
    description: API info.title is required
    given: $.info
    then:
      field: title
      function: truthy
    severity: error

  info-description:
    description: API info.description is required
    given: $.info
    then:
      field: description
      function: truthy
    severity: error

  info-version:
    description: API info.version is required
    given: $.info
    then:
      field: version
      function: truthy
    severity: error

  operation-tags:
    description: Operations should include at least one tag
    given: $.paths[*][*]
    then:
      field: tags
      function: truthy
    severity: warn

  standard-error-responses:
    description: APIs must define standard error responses (400, 401, 500)
    given: $.paths[*][*].responses
    severity: error
    then:
      - field: "400"
        function: truthy
      - field: "401"
        function: truthy
      - field: "500"
        function: truthy
